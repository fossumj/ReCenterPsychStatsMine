## Homeworked Example

[Screencast Link]()

Preliminary analyses often consist of means, standard deviations, and correlations. These can be helpful in determining whether or not data are normally distribution. Correlations and pairs.panels also assess the relatedness of the variables.

*If you wanted to use this example and dataset as a basis for a homework assignment, you could (a) select a different course (i.e., Multivariate or Psychometrics) and/or (b) different variables.*

### Working the Problem with R and R Packages

#### Create a df with 3 continuously scaled variables of interest

The ReC.rds is the entire dataset. Let's first open it. 

```{r}
ReCdf <- readRDS("ReC.rds")
```

Recall that students (represented by the *deID* variable) could contribute up to three course evaluations (i.e., ANOVA, psychometrics, multivariate) each. In many statistics, repeated observations creates dependencies that need to be accounted for statistically.

To avoid this dependency and to practice an R skil, let's first filter the data, selecting only those students who took ANOVA.

```{r}
JustANOVA <- subset(ReCdf, Course == "ANOVA") 
```

#### Create a df with 3 continuously scaled variables of interest

The assignment requires that we downsize to three variables. We could pick any three. 

```{r}
library(tidyverse)
tiny3 <- JustANOVA %>%
    dplyr::select (OvInstructor, OvCourse, MyContribution)
```

#### Produce descriptive statistics

```{r}
psych::describe(tiny3)
```

#### Produce SPLOM/pairs.panels

```{r}
psych::pairs.panels(tiny3)
```

#### Produce an apaTables matrix

```{r}
apaTables::apa.cor.table(tiny3)
```
#### Produce an APA Style write-up of the preliminary analyses

Our sample included 113 doctoral students in Clinical and Industrial-Organizational psychology doctoral (PhD) programs who were completing a statistics class focused on analysis of variance.  Visual inspection of three dimensions of course evaluation (overall instructor, overall course, my contributions) combined with formal evaluation of skewness and kurtosis suggested that their distributions did not violate the assumption of univariate normality. That is, skew values all fell below the absolute value of 3 and kurtosis values all fell below the absolute value of 10 [@kline_data_2016]. Means, standard deviations, and a correlation matrix are presented in Table 1. All three correlations were strong and statistically significant. We noted that the correlation between the overall instructor and overall course was especially high (*r* = .83, *p* < .001)

### Hand Calculations

Although these are termed “hand calculations,” you may use the code demonstrated in the chapter to work these problems. 

I am going to continue with the *tiny3* dataset I used when I worked the problem with R and R packages. Given that this is for homework, let's avoid problems with missingness by deleting any rows with missing data:

If you need to reimport data, here is a quick recap of the code explained earlier.

```{r}
ReCdf <- readRDS("ReC.rds")
JustANOVA <- subset(ReCdf, Course == "ANOVA") 

library(tidyverse)
tiny3 <- JustANOVA %>%
    dplyr::select (OvInstructor, OvCourse, MyContribution)
```

To avoid problems in the code we are used that is caused by missingness, we will eliminate any rows with missing data.

```{r}
tiny3 <- na.omit(tiny3)
```


#### Create a variable that represents the mean.

I will start with the OvInstructor variable. Inspect the dataframe to see that this new variable exists.

```{r}
tiny3$M_OvI <- mean(tiny3$OvInstructor, na.rm=TRUE)
```

#### Create a variable that represents the mean deviation.

```{r}
tiny3$Mdev_OvI <- (tiny3$OvInstructor-tiny3$M_OvI)
```

Inspect the dataframe to see that this new variable exists. Note that this functions to "center" the mean around zero.


#### What is the value of the sum of mean deviations?

```{r}
round(sum(tiny3$Mdev_OvI, na.rm = TRUE), 3)
```
Yes, zero!

#### Create a variable that represents the absolute mean deviation.

```{r}
tiny3$abslt_mOvI <- abs(tiny3$Mdev_OvI)
```

Inspect the dataframe to see that this new variable no longer has negative values.

**What is the value of the sum of the absolute mean deviation?**

```{r}
round(sum(tiny3$abslt_mOvI, na.rm = TRUE), 3)
```


**What is the value of the mean of the absolute mean deviation?**

```{r}
round(mean(tiny3$abslt_mOvI, na.rm = TRUE), 3)
```

**What does this value tell you?**

Average distance of each value from the mean.

#### Create a variable that represents the mean deviation squared.

```{r}
tiny3$mdev2_OvI <- (tiny3$Mdev_OvI * tiny3$Mdev_OvI)
```

**What is the value of the sum of squared deviations around the mean (also known as sums of squares; sometimes abbreviated as $SS$)?**

```{r}
sum(tiny3$mdev2_OvI, na.rm = TRUE)
```

**What is the value of the variance ($s^2$)?**

There are at least two ways to do this with basic code (and then we can check our work).

Here's how to do it with "more code."
```{r}
var_OvI <- sum(tiny3$mdev2_OvI/((nrow(tiny3) - 1)))
var_OvI
```

Here's how to do it with the numbers that I calculated:
```{r}
115.0973/(113-1)
```
Checking my work with the *var* function from base R. If it's wrong, I need to rework some of the previous steps.
```{r}
var(tiny3$OvInstructor, na.rm = TRUE) #checking my work
```

**What is the value of the standard deviation ($s$)?**

There are two ways to calculate it with basic code; and then we can check it with more code from base R.

```{r}
sd_OvI <- sqrt(var_OvI)#calculating with the object I created
sd_OvI
sqrt (1.027655)#calculated with the actual numbers
sd(tiny3$OvInstructor)#checking my work with the code from baseR
```

#### Using the same general approach, calculate the mean deviation and standard deviation for a second, continuously scaled variable.

My second variable is MyContribution
```{r}
#first the mean
tiny3$M_MyC <- mean(tiny3$MyContribution, na.rm=TRUE)
#second the mean deviation
tiny3$Mdev_MyC <- (tiny3$MyContribution-tiny3$M_MyC)

#fourth the variance
var_MyC <- sum(tiny3$mdev2_MyC/((nrow(tiny3) - 1)))
var_MyC
#finally the standard deviation
sd_MyC <- sqrt(var_MyC)
sd_MyC#checking my work

sd(tiny3$MyContribution)#checking my work
```

#### Create a variable that represents the *cross-product* (of the mean deviations). What is the sum of these cross-products?

```{r}
tiny3$crossproduct <- (tiny3$Mdev_OvI * tiny3$Mdev_MyC)
```

The sum of the crossproduct is:

```{r}
xp_sum <- sum(tiny3$crossproduct)
xp_sum
```

#### Calculate the value of their covariance.

```{r}
cov <- (1/(113-1)) * 46.74336
cov
```

#### Calculate value of correlation coefficient.

```{r}
0.4173514/(1.013733*0.8338)

```
And now I can check my work with a function from base R.
```{r}
cor.test(tiny3$OvInstructor, tiny3$MyContribution)
```
The correlation between ratings of overall instructor and my contribution is 0.493, $p < .001$.
